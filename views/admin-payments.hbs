<!DOCTYPE html>
<html>
  <head>
    <title>Payments</title>
    <link href="/common/style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="payment-page">
      <span class="payment-header">
      <h1>Payments</h1>
      <form method="GET" action="/admin-payments">
    <label for="paymentStatus">Filter by Payment Status:</label>
    <select id="paymentStatus" name="paymentStatus">
        <option value="All" {{#if (eq paymentStatus "All")}}selected{{/if}}>All</option>
        <option value="Pending" {{#if (eq paymentStatus "Pending")}}selected{{/if}}>Pending</option>
         <option value="Paid" {{#if (eq paymentStatus "Paid")}}selected{{/if}}>Paid</option>
        <option value="Failed" {{#if (eq paymentStatus "Failed")}}selected{{/if}}>Failed</option>
    </select>
    <button type="submit">Filter</button>
</form>
      </span>
      <table>
        <thead>
          <tr>
            <th>Payment ID</th>
            <th>Guest Name</th>
            <th>Amount</th>
            <th>Status</th>
             <th>Payment Date</th>
          </tr>
        </thead>

        <tbody>
          {{#each payments}}
            <tr>
              <td>{{this.paymentID}}</td>
              <td>{{this.firstName}} {{this.lastName}}</td>
              <td>{{this.amount}}</td>
              <td>{{this.status}}</td>
              <td>
              <script>
                  document.write(new Date("{{this.paymentDate}}").toLocaleString('en-PH', { 
                      weekday: 'short', year: 'numeric', month: 'short', day: 'numeric', 
                      hour: '2-digit', minute: '2-digit', hour12: true 
                  }));
              </script>
              </td>

            </tr>
            {{else}}
        <tr>
            <td colspan="4">No payments found</td>
        </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
  </body>
</html>
